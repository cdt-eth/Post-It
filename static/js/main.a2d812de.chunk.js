(this["webpackJsonpmaterial-mern"]=this["webpackJsonpmaterial-mern"]||[]).push([[0],{104:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(90),a(59)),s=a(11),l=(a(91),a(26)),d=a.n(l),u=a(39),j=a(21),p=a(135),b=a(138),h=a(34),f=a(157),O=a(141),x=a(54),m=a.n(x),v=a(5),g=Object(p.a)({field:{marginTop:20,marginBottom:20,display:"block"}}),y=function(){var t=Object(n.useState)(""),e=Object(j.a)(t,2),a=e[0],r=e[1],c=Object(n.useState)(!1),i=Object(j.a)(c,2),o=i[0],s=i[1],l=Object(n.useState)(""),p=Object(j.a)(l,2),x=p[0],y=p[1],w=Object(n.useState)(!1),S=Object(j.a)(w,2),N=S[0],C=S[1],k=Object(n.useState)(!0),T=Object(j.a)(k,2),D=T[0],P=T[1],E=g(),W=function(){var t=Object(u.a)(d.a.mark((function t(e){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),s(!1),C(!1),""===a&&s(!0),""===x&&C(!0),a&&x)try{n={title:a,description:x},c=fetch("http://localhost:5000/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r(""),y(""),console.log("response",c)}catch(i){console.error(i)}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){a&&x&&P(!1)}),[a,x]),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(h.a,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Create a new note"}),Object(v.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:W,"data-testid":"form",children:[Object(v.jsx)(f.a,{onChange:function(t){return r(t.target.value)},className:E.field,label:"Title",variant:"outlined",color:"secondary",fullWidth:!0,value:a,required:!0,inputProps:{"data-testid":"title"},error:o}),Object(v.jsx)(f.a,{value:x,onChange:function(t){return y(t.target.value)},className:E.field,label:"Description",variant:"outlined",color:"secondary",multiline:!0,rows:4,fullWidth:!0,required:!0,inputProps:{"data-testid":"description"},error:N}),Object(v.jsx)(O.a,{type:"submit",color:"secondary",variant:"contained",disabled:D,"data-testid":"submit-button",endIcon:Object(v.jsx)(m.a,{}),children:"Submit"})]})]})},w=a(142),S=a(143),N=a(144),C=a(146),k=a(158),T=a(145),D=a(75),P=a.n(D),E=Object(p.a)((function(t){return{test:{border:function(t){if(null==t.title)return"1px solid red"}},paper:{position:"absolute",width:400,backgroundColor:t.palette.background.paper,border:"2px solid #000",boxShadow:t.shadows[5],padding:t.spacing(2,4,3),left:"50%",top:"50%",marginLeft:"-150px",marginTop:"-150px"},field:{marginTop:20,marginBottom:20,display:"block"}}})),W=function(t){var e=t.post,a=t.handleDelete,r=t.handleEdit,c=t.open,i=t.currentPost,o=t.updatedTitle,s=t.updatedDescription,l=t.handleSubmit,d=t.setUpdatedTitle,u=t.setUpdatedDescription,j=t.setOpen,p=E(e);Object(n.useEffect)((function(){console.log("title:",o),console.log("descr:",s)}),[o,s]);var b=Object(v.jsx)("div",{className:p.paper,children:Object(v.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:l,"data-testid":"form",children:[Object(v.jsx)(f.a,{onChange:function(t){return d(t.target.value)},className:p.field,label:"Title",variant:"outlined",color:"secondary",fullWidth:!0,value:i&&o,required:!0,inputProps:{"data-testid":"title"}}),Object(v.jsx)(f.a,{value:i&&s,onChange:function(t){return u(t.target.value)},className:p.field,label:"Description",variant:"outlined",color:"secondary",multiline:!0,rows:4,fullWidth:!0,required:!0,inputProps:{"data-testid":"description"}}),Object(v.jsx)(O.a,{type:"submit",color:"secondary",variant:"contained","data-testid":"submit-button",endIcon:Object(v.jsx)(m.a,{}),children:"Udpate"})]})});return Object(v.jsxs)("div",{children:[Object(v.jsxs)(w.a,{elevation:3,className:p.test,children:[Object(v.jsx)(S.a,{color:"textSecondary",action:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{onClick:function(){return r(e)},children:Object(v.jsx)(P.a,{})}),Object(v.jsx)(N.a,{onClick:function(){return a(e.post_id)},children:Object(v.jsx)(T.a,{})})]}),title:e.title?e.title:"no title"}),Object(v.jsx)(C.a,{children:Object(v.jsx)(h.a,{variant:"body2",color:"textSecondary",children:e.description})})]}),Object(v.jsx)(k.a,{open:c,onClose:function(){j(!1)},children:b})]})},M=a(77),U=function(){var t=Object(n.useState)([]),e=Object(j.a)(t,2),a=e[0],r=e[1],c=Object(n.useState)(!1),i=Object(j.a)(c,2),o=i[0],s=i[1],l=Object(n.useState)(),p=Object(j.a)(l,2),h=p[0],f=p[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),m=x[0],g=x[1],y=Object(n.useState)(""),w=Object(j.a)(y,2),S=w[0],N=w[1];Object(n.useEffect)((function(){fetch("http://localhost:5000/posts").then((function(t){return t.json()})).then((function(t){return r(t)}))}),[a]);var C=function(){var t=Object(u.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("post",e),f(e),g(e.title),N(e.description),s(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(u.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),console.log("UPDATE:",m," | ",S),s(!1),t.next=5,fetch("http://localhost:5000/posts/"+h.post_id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:m,description:S})});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/posts/"+e,{method:"DELETE"});case 2:n=a.filter((function(t){return t.post_id!==e})),r(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)(b.a,{children:Object(v.jsx)(M.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:a.map((function(t){return Object(v.jsx)("div",{children:Object(v.jsx)(W,{post:t,handleDelete:T,handleEdit:C,handleSubmit:k,setUpdatedTitle:g,setUpdatedDescription:N,open:o,currentPost:h,updatedTitle:m,updatedDescription:S,setOpen:s})},t.post_id)}))})})},B=a(76),L=a(155),_=a(154),q=a(149),J=a(150),I=a(160),F=a(159),V=a(140),A=a(151),G=a(152),R=a(153),Y=a(147),z=a(148),H=a(156),K=Object(p.a)((function(t){return{root:{display:"flex"},page:{background:"#f9f9f9",width:"100%",padding:t.spacing(3)},drawer:{width:240},drawerPaper:{width:240},active:{background:"#f4f4f4"},title:{padding:t.spacing(2)},appbar:{width:"calc(100% - ".concat(240,"px)")},toolbar:t.mixins.toolbar,date:{flexGrow:1},avatar:{marginLeft:t.spacing(2)}}})),Q=function(t){var e=t.children,a=K(),n=Object(s.f)(),r=Object(s.g)(),c=[{text:"My Posts",icon:Object(v.jsx)(Y.a,{color:"secondary"}),path:"/"},{text:"Create Note",icon:Object(v.jsx)(z.a,{color:"secondary"}),path:"/create"}];return Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)(q.a,{className:a.appbar,elevation:0,children:Object(v.jsxs)(J.a,{children:[Object(v.jsxs)(h.a,{className:a.date,children:["Today is ",Object(H.a)(new Date,"MMMM do, Y")]}),Object(v.jsx)(h.a,{children:"Christian"}),Object(v.jsx)(I.a,{src:"/me.jpg",className:a.avatar})]})}),Object(v.jsxs)(F.a,{className:a.drawer,variant:"permanent",anchor:"left",classes:{paper:a.drawerPaper},children:[Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{variant:"h5",className:a.title,children:"Post it!"})}),Object(v.jsx)(V.a,{children:c.map((function(t){return Object(v.jsxs)(A.a,{button:!0,onClick:function(){return n.push(t.path)},className:r.pathname===t.path?a.active:"",children:[Object(v.jsx)(G.a,{children:t.icon}),Object(v.jsx)(R.a,{primary:t.text})]},t.text)}))})]}),Object(v.jsxs)("div",{className:a.page,children:[Object(v.jsx)("div",{className:a.toolbar}),e]})]})},X=Object(B.a)({palette:{primary:{main:"#fefefe"},secondary:_.a},typography:{fontFamily:"Lato",fontWeightLight:100,fontWeightRegular:300,fontWeightMedium:400,fontWeightBold:700}}),Z=function(){return Object(v.jsx)(L.a,{theme:X,children:Object(v.jsx)(o.a,{children:Object(v.jsx)(Q,{children:Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{exact:!0,path:"/",children:Object(v.jsx)(U,{})}),Object(v.jsx)(s.a,{path:"/create",children:Object(v.jsx)(y,{})})]})})})})};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(Z,{})}),document.getElementById("root"))},90:function(t,e,a){},91:function(t,e,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.a2d812de.chunk.js.map